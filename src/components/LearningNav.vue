<template>
  <div class="number-nav" :class="{ 'compact-nav': compact }">
    <button
      v-for="i in total"
      :key="i"
      class="nav-circle"
      :class="{ active: modelValue === i, small: compact }"
      @click="$emit('update:modelValue', i)"
    >
      <slot name="content" :num="i">
        {{ i }}
      </slot>

      <template v-if="getMedal">
        <div class="medal-icon" :class="{ 'small-medal': compact }" v-if="getMedal(i) === 3">ðŸ¥‡</div>
        <div class="medal-icon" :class="{ 'small-medal': compact }" v-else-if="getMedal(i) === 2">ðŸ¥ˆ</div>
        <div class="medal-icon" :class="{ 'small-medal': compact }" v-else-if="getMedal(i) === 1">ðŸ¥‰</div>
      </template>
    </button>
  </div>
</template>

<script setup lang="ts">
defineProps<{
  modelValue: number | 'mix'; // Ð¢ÐµÐºÑƒÑ‰ÐµÐµ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾
  total: number;      // Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ÐºÑ€ÑƒÐ¶ÐºÐ¾Ð² Ñ€Ð¸ÑÐ¾Ð²Ð°Ñ‚ÑŒ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 10)
  getMedal?: (num: number) => number; // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¼ÐµÐ´Ð°Ð»Ð¸
  compact?: boolean; // Ð ÐµÐ¶Ð¸Ð¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÐºÑ€ÑƒÐ¶ÐºÐ¾Ð² (Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð°)
}>();

defineEmits(['update:modelValue']);
</script>

<style scoped>
/* Ð¡Ñ‚Ð¸Ð»Ð¸ Ð¸Ð· main.css */
</style>
